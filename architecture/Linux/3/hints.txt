Для выполнения этих задач с использованием AWK и других команд Linux, вам нужно будет использовать комбинацию командной строки и скриптов AWK. Каждый запрос требует своего подхода:

1. Вывести день недели и число из файла calendar.txt:
   Пример файла calendar.txt может выглядеть так (пример для 3 августа):
   
   2023-08-03 четверг 03 августа
   
   AWK команда может быть такой:
   sh
   awk '{print "сегодня", $2, $3, $4}' calendar.txt
   

2. Вывести список каталогов с русскими именами:
   sh
   ls -l | grep '^d' | awk '/^[^[:ascii:]]+$/ {print $9}'
   
   Однако этот метод может не сработать для имен каталогов, содержащих как русские, так и английские символы. Поиск по русским буквам может быть более сложным и требовать дополнительных настроек локали.

3. Подсчитать общее количество байтов текстовых файлов в текущем каталоге и подкаталогах:
   Используйте команды find и awk:
   sh
   find . -name "*.txt" -ls | awk '{ total += $7 } END { print total }'
   

4. Определить количество блоков в текущем каталоге:
   Используйте команду stat:
   sh
   stat -c %b .
   

5. Изменить права доступа и провести сортировку списка файлов по правам доступа:
   Изменение прав:
   sh
   chmod 644 somefile.txt
   
   Сортировка файлов по правам доступа:
   sh
   ls -l | sort -k 1
   

6. Напечатать список каталогов с файлами data*.txt:
   Используйте команды find, dirname и sort - uniq:
   sh
   find . -type f -name "data*.txt" -exec dirname {} \; | sort | uniq
   

7. Подсчитать, сколько раз пользователь входил в систему:
   Это зависит от файла, в котором хранится история входов. Для систем systemd это:
   sh
   last | grep whoami | wc -l
   

8. Напечатать список пользователей, отсортированный по времени их последнего входа:
   Это также зависит от системы и конфигурации. В системах с systemd:
   sh
   last | awk '{print $1, $4, $5, $6, $7}' | sort -k 2,3
   

Обратите внимание, что конкретные решения могут зависеть от формата данных и конкретной конфигурации вашей системы. Некоторые команды могут потребовать уточнения или адаптации.

sh
#!/bin/bash

# Получение текущего дня и месяца
todays_date=$(date "+%e") # Пробел перед однозначным числом, если нужно
current_month=$(date "+%B")
weekday=$(date "+%A")

# Используйте awk для поиска строки с текущим днем
awk -v day="$todays_date" -v month="$current_month" -v wday="$weekday" '
  BEGIN { 
    split("вс пн вт ср чт пт сб", days, " ");
    print "Результаты поиска в файле calendar.txt:"
  }
  NR > 2 { 
    for (i = 1; i <= NF; i++) {
      if ($i == day) {
        day_index = i;
        break;
      }
    }
  }
  NR == 2 {
    day_name = days[day_index]
  }
  END {
    if (day_index) 
      print "сегодня", wday, day, month;
    else
      print "Дата не найдена в calendar.txt.";
  }
' calendar.txt


sh
ls -l | awk '/^d/ && $NF ~ /^[А-Яа-яёЁ]+$/ {print $9}'

sh
ls -ld */ | grep -P '^d.*[А-Яа-яЁё]+$'

